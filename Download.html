---
title: Open Source Trace
layout: default
---
<!-- Main -->
	<div id="main">
		<div id="content" class="container">
			<section>
				<header>
					<h2>Download</h2>
					<span class="byline">
						Select trace files to download and submit with your email address.
						The download link will be send to email address submitted.
					</span>
				</header>
				<h4>Select trace files to download</h4>
				<select class="selectpicker" width="auto" multiple>
				</select>
				<h4>Fill your information here</h4>
				<form>
					<div class="form-group">
						<label for="name">Name</label>
						<input type="text" class="form-control" id="name" placeholder="Your name here.">
					</div>
					<div class="form-group">
						<label for="email">Email address</label>
						<input type="email" class="form-control" id="email" placeholder="Your email here.">
						<small id="email_help" class="form-text text-muted">
							We'll never share your email with anyone else, only used for sending download link to you.
						</small>
					</div>
					<div class="form-group">
						<label for="affiliation">Affiliation</label>
						<input type="text" class="form-control" id="affiliation" placeholder="Your affiliation here.">
					</div>
					<button type="button" class="btn btn-primary">Submit</button>
				</form>
			</section>
		</div>
	</div>
	<script type="text/javascript">
		function RESTManager(url, method, data, callback) {
			$.ajax({
				type: 'POST',
				url: 'http://trace.yonsei.ac.kr/app/trace' + url,
				headers: {
					'X-HTTP-Method-Override': method
				},
				contentType: 'application/json',
				dataType: 'json',
				data: data,
				complete: function (result) {
					callback(result.status, result.responseJSON)
				}
			})
		}

		$(document).ready(function () {
			// Get Category List first
			RESTManager('/category', 'GET', {}, function(status, response) {
				// Create dropdown category list
				if (response.error == 0) {
					response.data.forEach(function(item) {
						$('select.selectpicker').append('<optgroup data-id="' + item.id + '" label="' + item.name + '"></optgroup>')
					})

					// Get File List next
					RESTManager('/', 'GET', {}, function(status, response) {
						if (response.error == 0) {
							response.data.forEach(function(item) {
								$('select.selectpicker optgroup[data-id="' + item.category + '"]').append('<option data-id="' + item.id + '">' + item.name + '</option>')
							})

							// Redraw dropdown
							$('select.selectpicker').selectpicker('refresh')
						}
					})
				}
			})
		})
	</script>
<!-- /Main -->
